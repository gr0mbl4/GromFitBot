"""
Конфигурация системы GromFit Bot
"""

import os
from dotenv import load_dotenv

# Загружаем переменные окружения
load_dotenv()

# Регионы России (должен быть на уровне модуля, не внутри класса)
REGIONS = [
    "Москва",
    "Санкт-Петербург",
    "Новосибирск",
    "Екатеринбург",
    "Нижний Новгород",
    "Казань",
    "Челябинск",
    "Омск",
    "Самара",
    "Ростов-на-Дону",
    "Уфа",
    "Красноярск",
    "Пермь",
    "Воронеж",
    "Волгоград",
    "Краснодар",
    "Саратов",
    "Тюмень",
    "Тольятти",
    "Ижевск",
    "Барнаул",
    "Ульяновск",
    "Иркутск",
    "Хабаровск",
    "Ярославль",
    "Владивосток",
    "Махачкала",
    "Томск",
    "Оренбург",
    "Кемерово",
    "Новокузнецк",
    "Рязань",
    "Астрахань",
    "Набережные Челны",
    "Пенза",
    "Липецк",
    "Киров",
    "Чебоксары",
    "Тула",
    "Калининград",
    "Балашиха",
    "Курск",
    "Севастополь",
    "Сочи",
    "Ставрополь",
    "Улан-Удэ",
    "Тверь",
    "Магнитогорск",
    "Иваново",
    "Брянск",
    "Белгород",
    "Сургут",
    "Владимир",
    "Нижний Тагил",
    "Архангельск",
    "Чита",
    "Симферополь",
    "Калуга",
    "Смоленск",
    "Волжский",
    "Якутск",
    "Саранск",
    "Череповец",
    "Курган",
    "Орёл",
    "Вологда",
    "Владикавказ",
    "Мурманск",
    "Тамбов",
    "Петрозаводск",
    "Кострома",
    "Нижневартовск",
    "Новороссийск",
    "Йошкар-Ола",
    "Химки",
    "Таганрог",
    "Сыктывкар",
    "Нальчик",
    "Шахты",
    "Дзержинск",
    "Братск",
    "Орск",
    "Ангарск",
    "Энгельс",
    "Старый Оскол",
    "Великий Новгород",
    "Королёв",
    "Псков",
    "Бийск",
    "Прокопьевск",
    "Благовещенск",
    "Южно-Сахалинск",
    "Армавир",
    "Рыбинск",
    "Абакан",
    "Северодвинск",
    "Петропавловск-Камчатский",
    "Норильск",
    "Сызрань",
    "Новочеркасск",
    "Златоуст",
    "Каменск-Уральский",
    "Волгодонск",
    "Альметьевск",
    "Миасс",
    "Кызыл",
    "Уссурийск",
    "Находка",
    "Елец",
    "Бердск",
    "Салават",
    "Элиста",
    "Новошахтинск",
    "Нефтекамск",
    "Димитровград",
    "Октябрьский",
    "Каспийск",
    "Обнинск",
    "Кисловодск",
    "Новый Уренгой",
    "Батайск",
    "Черкесск",
    "Серпухов",
    "Первоуральск",
    "Зеленоград",
    "Нефтеюганск",
    "Альметьевск",
    "Красногорск",
    "Пятигорск",
    "Копейск",
    "Хасавюрт",
    "Майкоп",
    "Коломна",
    "Одинцово",
    "Ковров",
    "Кисловодск",
    "Железнодорожный",
    "Назрань",
    "Новомосковск",
    "Дербент",
    "Камышин",
    "Муром",
    "Новочебоксарск",
    "Сергиев Посад",
    "Новокуйбышевск",
    "Щёлково",
    "Северск",
    "Ноябрьск",
    "Ачинск",
    "Евпатория",
    "Арзамас",
    "Керчь",
    "Обнинск",
    "Новотроицк",
    "Жуковский",
    "Ессентуки",
    "Реутов",
    "Домодедово",
    "Ухта"
]

class Config:
    """Класс конфигурации приложения"""
    
    # Токен бота
    BOT_TOKEN = os.getenv('BOT_TOKEN', '')
    
    # Настройки Redis
    REDIS_HOST = os.getenv('REDIS_HOST', 'localhost')
    REDIS_PORT = int(os.getenv('REDIS_PORT', 6379))
    
    # Настройки веб-сервера
    WEB_HOST = os.getenv('WEB_HOST', '0.0.0.0')
    WEB_PORT = int(os.getenv('WEB_PORT', 8080))
    
    # Настройки базы данных
    DATABASE_PATH = 'data/users.db'
    USERS_DATA_DIR = 'users_data'
    
    # Настройки логирования
    LOG_LEVEL = os.getenv('LOG_LEVEL', 'INFO')
    LOG_FILE = 'logs/bot.log'
    ERROR_LOG_FILE = 'logs/errors.log'
    
    # Системные настройки
    ADMIN_IDS = [123456789]  # ID администраторов
    
    # Настройки реферальной системы
    REFERRER_BONUS = 25  # Бонус пригласившему
    REFERRED_BONUS = 50  # Бонус приглашенному
    
    # Настройки ежедневного бонуса
    DAILY_BONUS_AMOUNT = 10.0
    
    # Регионы России (ссылка на глобальную переменную)
    REGIONS = REGIONS
    
    @classmethod
    def validate(cls):
        """Валидация конфигурации"""
        errors = []
        
        if not cls.BOT_TOKEN:
            errors.append("BOT_TOKEN не установлен в .env файле")
        
        if errors:
            raise ValueError(f"Ошибки конфигурации: {', '.join(errors)}")
        
        return True